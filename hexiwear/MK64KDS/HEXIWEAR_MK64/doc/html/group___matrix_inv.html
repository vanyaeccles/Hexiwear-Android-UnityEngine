<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>HEXIWEAR MK64 Firmware Reference Manual: Matrix Inverse</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="hexiweare_logo_main_black.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HEXIWEAR MK64 Firmware Reference Manual
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___matrix_inv.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Matrix Inverse<div class="ingroups"><a class="el" href="group__group_matrix.html">Matrix Functions</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga542be7aabbf7a2297a4b62cf212910e3"><td class="memItemLeft" align="right" valign="top">arm_status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___matrix_inv.html#ga542be7aabbf7a2297a4b62cf212910e3">arm_mat_inverse_f32</a> (const <a class="el" href="structarm__matrix__instance__f32.html">arm_matrix_instance_f32</a> *pSrc, <a class="el" href="structarm__matrix__instance__f32.html">arm_matrix_instance_f32</a> *pDst)</td></tr>
<tr class="memdesc:ga542be7aabbf7a2297a4b62cf212910e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Floating-point matrix inverse.  <a href="#ga542be7aabbf7a2297a4b62cf212910e3">More...</a><br /></td></tr>
<tr class="separator:ga542be7aabbf7a2297a4b62cf212910e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaede2367c02df083cc915ddd5d8fae838"><td class="memItemLeft" align="right" valign="top">arm_status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___matrix_inv.html#gaede2367c02df083cc915ddd5d8fae838">arm_mat_inverse_f64</a> (const <a class="el" href="structarm__matrix__instance__f64.html">arm_matrix_instance_f64</a> *pSrc, <a class="el" href="structarm__matrix__instance__f64.html">arm_matrix_instance_f64</a> *pDst)</td></tr>
<tr class="memdesc:gaede2367c02df083cc915ddd5d8fae838"><td class="mdescLeft">&#160;</td><td class="mdescRight">Floating-point matrix inverse.  <a href="#gaede2367c02df083cc915ddd5d8fae838">More...</a><br /></td></tr>
<tr class="separator:gaede2367c02df083cc915ddd5d8fae838"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Computes the inverse of a matrix.</p>
<p>The inverse is defined only if the input matrix is square and non-singular (the determinant is non-zero). The function checks that the input and output matrices are square and of the same size.</p>
<p>Matrix inversion is numerically sensitive and the CMSIS DSP library only supports matrix inversion of floating-point matrices.</p>
<dl class="section user"><dt>Algorithm</dt><dd>The Gauss-Jordan method is used to find the inverse. The algorithm performs a sequence of elementary row-operations until it reduces the input matrix to an identity matrix. Applying the same sequence of elementary row-operations to an identity matrix yields the inverse matrix. If the input matrix is singular, then the algorithm terminates and returns error status <code>ARM_MATH_SINGULAR</code>. <div class="image">
<img src="MatrixInverse.gif" alt="MatrixInverse.gif"/>
<div class="caption">
Matrix Inverse of a 3 x 3 matrix using Gauss-Jordan Method</div></div>
</dd></dl>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga542be7aabbf7a2297a4b62cf212910e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">arm_status arm_mat_inverse_f32 </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structarm__matrix__instance__f32.html">arm_matrix_instance_f32</a> *&#160;</td>
          <td class="paramname"><em>pSrc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structarm__matrix__instance__f32.html">arm_matrix_instance_f32</a> *&#160;</td>
          <td class="paramname"><em>pDst</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Floating-point matrix inverse. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">*pSrc</td><td>points to input matrix structure </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*pDst</td><td>points to output matrix structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns <code>ARM_MATH_SIZE_MISMATCH</code> if the input matrix is not square or if the size of the output matrix does not match the size of the input matrix. If the input matrix is found to be singular (non-invertible), then the function returns <code>ARM_MATH_SINGULAR</code>. Otherwise, the function returns <code>ARM_MATH_SUCCESS</code>. </dd></dl>
<p>input data matrix pointer</p>
<p>output data matrix pointer</p>
<p>Temporary input data matrix pointer</p>
<p>Temporary output data matrix pointer</p>
<p>Temporary input and output data matrix pointer</p>
<p>Number of rows in the matrix</p>
<p>Number of Cols in the matrix</p>
<p>maximum value in the column</p>
<p>Run the below code for Cortex-M4 and Cortex-M3</p>
<p>Temporary input values</p>
<p>loop counters</p>
<p>status of matrix inverse</p>
<p>Working pointer for destination matrix</p>
<p>Loop over the number of rows</p>
<p>Making the destination matrix as identity matrix</p>
<p>Writing all zeroes in lower triangle of the destination matrix</p>
<p>Writing all ones in the diagonal of the destination matrix</p>
<p>Writing all zeroes in upper triangle of the destination matrix</p>
<p>Decrement the loop counter</p>
<p>Loop over the number of columns of the input matrix. All the elements in each column are processed by the row operations</p>
<p>Index modifier to navigate through the columns</p>
<p>Check if the pivot element is zero.. If it is zero then interchange the row with non zero row below. If there is no non zero element to replace in the rows below, then the matrix is Singular.</p>
<p>Working pointer for the input matrix that points to the pivot element of the particular row</p>
<p>Working pointer for the destination matrix that points to the pivot element of the particular row</p>
<p>Temporary variable to hold the pivot value</p>
<p>Grab the most significant value from column l</p>
<p>Update the status if the matrix is singular</p>
<p>Restore pInT1</p>
<p>Destination pointer modifier</p>
<p>Check if the pivot element is the most significant of the column</p>
<p>Loop over the number rows present below</p>
<p>Update the input and destination pointers</p>
<p>Look for the most significant element to replace in the rows below</p>
<p>Loop over number of columns to the right of the pilot element</p>
<p>Exchange the row elements of the input matrix</p>
<p>Decrement the loop counter</p>
<p>Loop over number of columns of the destination matrix</p>
<p>Exchange the row elements of the destination matrix</p>
<p>Decrement the loop counter</p>
<p>Flag to indicate whether exchange is done or not</p>
<p>Break after exchange is done</p>
<p>Update the destination pointer modifier</p>
<p>Decrement the loop counter</p>
<p>Update the status if the matrix is singular</p>
<p>Points to the pivot row of input and destination matrices</p>
<p>Temporary pointers to the pivot row pointers</p>
<p>Pivot element of the row</p>
<p>Loop over number of columns to the right of the pilot element</p>
<p>Divide each element of the row of the input matrix by the pivot element</p>
<p>Decrement the loop counter</p>
<p>Loop over number of columns of the destination matrix</p>
<p>Divide each element of the row of the destination matrix by the pivot element</p>
<p>Decrement the loop counter</p>
<p>Replace the rows with the sum of that row and a multiple of row i so that each new element in column i above row i is zero.</p>
<p>Temporary pointers for input and destination matrices</p>
<p>index used to check for pivot element</p>
<p>Loop over number of rows</p>
<p>Check for the pivot element</p>
<p>If the processing element is the pivot element, only the columns to the right are to be processed</p>
<p>Element of the reference row</p>
<p>Working pointers for input and destination pivot rows</p>
<p>Loop over the number of columns to the right of the pivot element, to replace the elements in the input matrix</p>
<p>Replace the element by the sum of that row and a multiple of the reference row</p>
<p>Decrement the loop counter</p>
<p>Loop over the number of columns to replace the elements in the destination matrix</p>
<p>Replace the element by the sum of that row and a multiple of the reference row</p>
<p>Decrement the loop counter</p>
<p>Increment the temporary input pointer</p>
<p>Decrement the loop counter</p>
<p>Increment the pivot index</p>
<p>Increment the input pointer</p>
<p>Decrement the loop counter</p>
<p>Increment the index modifier</p>
<p>Set status as ARM_MATH_SUCCESS</p>
<p>Return to application </p>

<p>Definition at line <a class="el" href="arm__mat__inverse__f32_8c_source.html#l00085">85</a> of file <a class="el" href="arm__mat__inverse__f32_8c_source.html">arm_mat_inverse_f32.c</a>.</p>

<p>References <a class="el" href="arm__math_8h_source.html#l01372">arm_matrix_instance_f32::numCols</a>, <a class="el" href="arm__math_8h_source.html#l01371">arm_matrix_instance_f32::numRows</a>, and <a class="el" href="arm__math_8h_source.html#l01373">arm_matrix_instance_f32::pData</a>.</p>

</div>
</div>
<a class="anchor" id="gaede2367c02df083cc915ddd5d8fae838"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">arm_status arm_mat_inverse_f64 </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structarm__matrix__instance__f64.html">arm_matrix_instance_f64</a> *&#160;</td>
          <td class="paramname"><em>pSrc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structarm__matrix__instance__f64.html">arm_matrix_instance_f64</a> *&#160;</td>
          <td class="paramname"><em>pDst</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Floating-point matrix inverse. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">*pSrc</td><td>points to input matrix structure </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*pDst</td><td>points to output matrix structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function returns <code>ARM_MATH_SIZE_MISMATCH</code> if the input matrix is not square or if the size of the output matrix does not match the size of the input matrix. If the input matrix is found to be singular (non-invertible), then the function returns <code>ARM_MATH_SINGULAR</code>. Otherwise, the function returns <code>ARM_MATH_SUCCESS</code>. </dd></dl>
<p>input data matrix pointer</p>
<p>output data matrix pointer</p>
<p>Temporary input data matrix pointer</p>
<p>Temporary output data matrix pointer</p>
<p>Temporary input and output data matrix pointer</p>
<p>Number of rows in the matrix</p>
<p>Number of Cols in the matrix</p>
<p>maximum value in the column</p>
<p>Run the below code for Cortex-M4 and Cortex-M3</p>
<p>Temporary input values</p>
<p>loop counters</p>
<p>status of matrix inverse</p>
<p>Working pointer for destination matrix</p>
<p>Loop over the number of rows</p>
<p>Making the destination matrix as identity matrix</p>
<p>Writing all zeroes in lower triangle of the destination matrix</p>
<p>Writing all ones in the diagonal of the destination matrix</p>
<p>Writing all zeroes in upper triangle of the destination matrix</p>
<p>Decrement the loop counter</p>
<p>Loop over the number of columns of the input matrix. All the elements in each column are processed by the row operations</p>
<p>Index modifier to navigate through the columns</p>
<p>Check if the pivot element is zero.. If it is zero then interchange the row with non zero row below. If there is no non zero element to replace in the rows below, then the matrix is Singular.</p>
<p>Working pointer for the input matrix that points to the pivot element of the particular row</p>
<p>Working pointer for the destination matrix that points to the pivot element of the particular row</p>
<p>Temporary variable to hold the pivot value</p>
<p>Grab the most significant value from column l</p>
<p>Update the status if the matrix is singular</p>
<p>Restore pInT1</p>
<p>Destination pointer modifier</p>
<p>Check if the pivot element is the most significant of the column</p>
<p>Loop over the number rows present below</p>
<p>Update the input and destination pointers</p>
<p>Look for the most significant element to replace in the rows below</p>
<p>Loop over number of columns to the right of the pilot element</p>
<p>Exchange the row elements of the input matrix</p>
<p>Decrement the loop counter</p>
<p>Loop over number of columns of the destination matrix</p>
<p>Exchange the row elements of the destination matrix</p>
<p>Decrement the loop counter</p>
<p>Flag to indicate whether exchange is done or not</p>
<p>Break after exchange is done</p>
<p>Update the destination pointer modifier</p>
<p>Decrement the loop counter</p>
<p>Update the status if the matrix is singular</p>
<p>Points to the pivot row of input and destination matrices</p>
<p>Temporary pointers to the pivot row pointers</p>
<p>Pivot element of the row</p>
<p>Loop over number of columns to the right of the pilot element</p>
<p>Divide each element of the row of the input matrix by the pivot element</p>
<p>Decrement the loop counter</p>
<p>Loop over number of columns of the destination matrix</p>
<p>Divide each element of the row of the destination matrix by the pivot element</p>
<p>Decrement the loop counter</p>
<p>Replace the rows with the sum of that row and a multiple of row i so that each new element in column i above row i is zero.</p>
<p>Temporary pointers for input and destination matrices</p>
<p>index used to check for pivot element</p>
<p>Loop over number of rows</p>
<p>Check for the pivot element</p>
<p>If the processing element is the pivot element, only the columns to the right are to be processed</p>
<p>Element of the reference row</p>
<p>Working pointers for input and destination pivot rows</p>
<p>Loop over the number of columns to the right of the pivot element, to replace the elements in the input matrix</p>
<p>Replace the element by the sum of that row and a multiple of the reference row</p>
<p>Decrement the loop counter</p>
<p>Loop over the number of columns to replace the elements in the destination matrix</p>
<p>Replace the element by the sum of that row and a multiple of the reference row</p>
<p>Decrement the loop counter</p>
<p>Increment the temporary input pointer</p>
<p>Decrement the loop counter</p>
<p>Increment the pivot index</p>
<p>Increment the input pointer</p>
<p>Decrement the loop counter</p>
<p>Increment the index modifier</p>
<p>Set status as ARM_MATH_SUCCESS</p>
<p>Return to application </p>

<p>Definition at line <a class="el" href="arm__mat__inverse__f64_8c_source.html#l00085">85</a> of file <a class="el" href="arm__mat__inverse__f64_8c_source.html">arm_mat_inverse_f64.c</a>.</p>

<p>References <a class="el" href="arm__math_8h_source.html#l01383">arm_matrix_instance_f64::numCols</a>, <a class="el" href="arm__math_8h_source.html#l01382">arm_matrix_instance_f64::numRows</a>, and <a class="el" href="arm__math_8h_source.html#l01384">arm_matrix_instance_f64::pData</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
